!cpu 6502
!to "build/main.prg",cbm    ; output file

;============================================================
; BASIC loader with start address $c000
;============================================================

* = $0801                               ; BASIC start address (#2049)
!byte $0d,$08,$dc,$07,$9e,$20,$34,$39   ; BASIC loader to start at $c000...
!byte $31,$35,$32,$00,$00,$00           ; puts BASIC line 2012 SYS 49152
* = $c000     				            ; start address for 6502 code

;============================================================
; START OF CODE
;============================================================

jsr init_screen

jmp * ;end of code

;============================================================
; END OF CODE
;============================================================





;============================================================
; SUBROUTINES
;============================================================

init_screen		ldx #$00
				stx $d021
				stx $d020

clear			lda #$20
				sta $0400,x
				sta $0500,x
				sta $0600,x
				sta $06e8,x
				lda #$00
				sta $d800,x
				sta $d900,x
				sta $da00,x
				sta $dae8,x
				inx
				bne clear

				rts
